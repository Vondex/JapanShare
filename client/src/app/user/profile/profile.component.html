
<section id="profile-page">
    <div class="profileSection">
        <div class="info">
            <h2>Your Profile</h2>
            <p>information</p>
        </div>
      
        <ng-container *ngTemplateOutlet="inEditMode ? editMode : defaultMode"></ng-container>
       
   
    </div>
</section>

<ng-template #defaultMode>
    <div class="profileForm">
        <h2>User Info</h2>
        <ul class="noBullet">
            
            <li>
                <label for="email">Email:</label>
                <p class="fields">{{currentUser.email}}</p>
            </li>
            <li>
                <label for="username">Username:</label>
                <p class="fields">{{currentUser.username}}</p>
            </li>
            
           
            <li id="center-btn">
                <button id="edit-profile-btn" (click)="toggleEditMode()">Edit your account</button>
            </li>
         
        </ul>
    </div>

</ng-template>

<ng-template #editMode>
    <form #f="ngForm" (ngSubmit)="submitHandler(f.value)" class="profileForm">
        <h2>User Info</h2>
        <ul class="noBullet">
            
            <li>
                <label for="email">Email:</label>
                <input #userEmail="ngModel" type="text" class="inputFields" id="email" name="email" [ngModel]="currentUser.email" appSubmitOnValid
                (ngModelChangeIfValid)="changeHandler($event)" required appEmailValidator email/>
                <p *ngIf="userEmail.touched && userEmail.errors?.required" class="error">Email is required!</p>
                <p *ngIf="userEmail.touched && userEmail.errors?.emailValidator" class="error">Email is invalid!</p>
            </li>
            <li>
                <label for="username">Username:</label>
                <input #userUsername="ngModel" type="text" class="inputFields" id="username" name="username" [ngModel]="currentUser.username" required minlength="5"/>
                <p *ngIf="userUsername.touched && userUsername.errors?.required" class="error">Username is required!</p>
                <p *ngIf="userUsername.touched && userUsername.errors?.minlength" class="error">Username must be at least 5 characters long!</p>
            </li>
            
           
            <li id="center-btn">
                <button id="edit-profile-btn"  [disabled]="f.invalid">Save</button>
                <button id="cancel-profile-btn" (click)="toggleEditMode()">Cancel</button>
            </li>
         
        </ul>
    </form>
    
</ng-template>

<!-- 
<form #form="ngForm" class="loginForm" (ngSubmit)="submitFormHandler(form.value)">
    <h2>Login</h2>
    <ul class="noBullet">
        <li>
            <label for="email">Email:</label>
            <input #userEmail="ngModel" class="inputFields" type="text" id="email" name="email" ngModel appSubmitOnValid
            (ngModelChangeIfValid)="changeHandler($event)" required appEmailValidator
                email placeholder="mariah@gmail.com" />

            <p *ngIf="userEmail.touched && userEmail.errors?.required" class="error">Email is required!</p>
            <p *ngIf="userEmail.touched && userEmail.errors?.emailValidator" class="error">Email is invalid!</p>
        </li>
        <li>
            <label for="password">Password:</label>
            <input #userPassword="ngModel" type="password" class="inputFields" id="password" name="password"
                placeholder="*********" ngModel required minlength="5" />
            <p *ngIf="userPassword.touched && userPassword.errors?.required" class="error">Password is required!</p>
            <p *ngIf="userPassword.touched && userPassword.errors?.minlength" class="error">Password must be at least 5 characters long!</p>
        </li>

        <li id="center-btn">
            <button [disabled]="isLoading || form.invalid" id="login-btn">Login</button>
        </li>
    </ul>
    <p class="navigation-field">
        <span>
            If you don't have a profile click <a routerLink="/user/register">here</a>
        </span>
    </p>
</form> -->